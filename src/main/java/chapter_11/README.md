# 합성과 유연한 설계 
 - 상속 : is-a 관계. 의존성이 컴파일 타임에 해결
 - 합성 : has-a 관계. 의존성이 런타임에 해결 

> [코드 재사용을 위해서는] 객체 합성이 클래스 상속보다 더 좋은 방법이다 

### 상속과 합성은 재사용의 대상이 다르다 
- 상속은 부모 클래스 안에 구현된 코드 자체를 재사용 
  - 화이트박스 재사용 
  - 상속을 받으면 부모 클래스 내부가 자식 클래스에게 공개 -> 화이트박스 
- 합성은 포함되는 객체의 퍼블릭 인터페이스를 재사용
  - 합성할 객체들의 인터페이스를 명확하게 정의해야 함
  - 블랙박스 재사용 
  - 객체의 내부는 공개되지 않고 인터페이스를 통해서만 재사용됨 -> 블랙박스 


## 상속의 문제점
- 불필요한 인터페이스 상속 
  - 자식 클래스에게는 부적합한 부모 클래스의 오퍼레이션이 상속 됨 
- 메서드 오버라이딩 오작용
  - 자식 클래스가 부모 클래스의 메서드를 오버라이딩할 때 자식 클래스가 부모 클래스의 메서드 호출 방법에 영향을 받는 문제 
- 부모 클래스와 자식 클래스의 동시 수정 문제 
  - 부모 클래스를 변경할 때 자식 클래스도 함께 변경해야 하는 문제


## 몽키 패치 
- 현재 실행 중인 환경에만 영향을 미치도록 지역적으로 코드를 수정하거나 확장하는 것 
- 몽키 패치가 지원될 경우, 수정할 권한이 없거나 소스코드가 존재하지 않아도 메서드를 추가하는게 가능함 
- 자바는 언어 차원에서 몽키 패치를 지원하지 않기 때문에, 바이트코드를 직접 변환하거나 AOP를 이용해 몽키 패치를 구현하고 있다. 


## 상속의 남용 
- 하나의 기능을 추가하기 위해 필요 이상으로 많은 수의 클래스를 추가해야 하는 경우 "클래스 폭발" 또는 "조합의 폭발" 문제라고 부른다.


